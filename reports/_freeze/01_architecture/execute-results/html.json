{
  "hash": "291281592a2cde8b6071ceda184559d0",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Package Architecture & Workflow\"\nsubtitle: \"Internal mechanics of MultistateModels.jl\"\ndate: last-modified\n---\n\n::: {.callout-note}\n## Status: Not Started\nThis report is a placeholder. Content will be added as the package documentation is developed.\n:::\n\n## 1. Introduction\n\n### Design Philosophy\n\nMultistateModels.jl is designed to provide flexible tools for analyzing multistate survival data. The package supports:\n\n- Multiple hazard families (Exponential, Weibull, Gompertz, B-splines)\n- Both proportional hazards (PH) and accelerated failure time (AFT) covariate effects\n- Exactly observed and panel (interval-censored) data\n- Time-varying covariates\n- Semi-Markov models with duration dependence\n\n### Package Overview\n\n::: {#6168c46a .cell execution_count=1}\n``` {.julia .cell-code}\n# Core workflow\nusing MultistateModels\n\n# 1. Define hazards\nhazards = (\n    h12 = Hazard(@formula(0 ~ x), \"wei\", 1, 2),\n    h23 = Hazard(@formula(0 ~ 1), \"exp\", 2, 3)\n)\n\n# 2. Build model\nmodel = multistatemodel(hazards; data = df)\n\n# 3. Fit model\nfit!(model)\n\n# 4. Simulate from fitted model\npaths = simulate(model; nsim = 1000)\n```\n:::\n\n\n## 2. Model Construction\n\n### 2.1 The `MultistateProcess` Struct\n\n*To be documented*\n\n### 2.2 Hazard Specification\n\n*To be documented*\n\n### 2.3 Parameterization Conventions\n\nAll hazard families follow **flexsurv** conventions:\n\n| Family | Hazard Function | Parameters |\n|--------|-----------------|------------|\n| Exponential | $h(t) = \\text{rate}$ | rate > 0 |\n| Weibull | $h(t) = \\text{shape} \\times \\text{scale} \\times t^{\\text{shape}-1}$ | shape > 0, scale > 0 |\n| Gompertz | $h(t) = \\text{rate} \\times \\exp(\\text{shape} \\times t)$ | shape ∈ ℝ, rate > 0 |\n| B-Spline | $h(t) = \\exp(\\mathbf{B}(t)' \\boldsymbol{\\theta})$ | θ ∈ ℝ^k |\n\n### 2.4 Covariate Effects\n\n*To be documented*\n\n### 2.5 Time-Varying Covariates\n\n*To be documented*\n\n### 2.6 The `multistatemodel()` Constructor\n\n*To be documented*\n\n### 2.7 Data Requirements\n\n*To be documented*\n\n## 3. Simulation Engine\n\n### 3.1 `simulate()` vs `simulate_path()`\n\n*To be documented*\n\n### 3.2 Transform Strategies\n\n*To be documented*\n\n### 3.3 Jump Solvers\n\n*To be documented*\n\n### 3.4 Phase-Type Expansion\n\n*To be documented*\n\n## 4. Inference\n\n### 4.1 Likelihood Calculations\n\n*To be documented*\n\n### 4.2 MCEM Algorithm\n\n*To be documented*\n\n### 4.3 Optimization Wrappers\n\n*To be documented*\n\n### 4.4 Parameter Constraints\n\n*To be documented*\n\n## 5. Key Internal Functions\n\n### 5.1 Hazard Evaluation\n\n*To be documented*\n\n### 5.2 Survival Probability\n\n*To be documented*\n\n### 5.3 Parameter Handling\n\n*To be documented*\n\n### 5.4 Time Transforms\n\n*To be documented*\n\n## 6. Option Reference\n\n*To be documented*\n\n",
    "supporting": [
      "01_architecture_files"
    ],
    "filters": [],
    "includes": {}
  }
}